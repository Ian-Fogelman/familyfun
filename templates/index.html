<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Family Fun App</title>
      <!-- Bootstrap 5.3 CSS CDN -->
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
         rel="stylesheet"
         integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
         crossorigin="anonymous">
      <style>
         .bg-gradient-primary {
         background: linear-gradient(90deg, #6366f1, #a855f7);
         }
      </style>
   </head>
   <body class="bg-light">
      <!-- Top Navbar / Header with filter button -->
      <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
         <div class="container-fluid">
            <button class="btn btn-outline-primary me-3" 
               type="button" 
               data-bs-toggle="offcanvas" 
               data-bs-target="#ageFilterOffcanvas" 
               aria-controls="ageFilterOffcanvas">
            <strong>Filter by Age</strong> â˜°
            </button>
            <span class="navbar-brand mx-auto fw-bold text-primary fs-4">
            Family Fun Time! ðŸŽ‰
            </span>
         </div>
      </nav>
      <!-- Offcanvas Side Menu with Checkboxes -->
      <div class="offcanvas offcanvas-start" tabindex="-1" 
         id="ageFilterOffcanvas" 
         aria-labelledby="ageFilterLabel">
         <div class="offcanvas-header">
            <button type="button" class="btn-close" 
               data-bs-dismiss="offcanvas" 
               aria-label="Close"></button>
         </div>
         <div class="card mb-4 shadow-sm border-0">
            <div class="card-body">
               <form method="GET" class="d-flex flex-wrap align-items-center gap-3 justify-content-center">
                  <label for="ageSelect" class="fw-bold me-2 fs-5">Choose Age Group:</label>
                  <select name="age" id="ageSelect" class="form-select w-auto" style="min-width: 180px;">
                  <option value="" {% if requested_age == 'all' or requested_age == '' %}selected{% endif %}>All Ages</option>
                  <option value="toddler" {% if requested_age == 'toddler' %}selected{% endif %}>Toddler</option>
                  <option value="kid" {% if requested_age == 'kid' %}selected{% endif %}>Kid</option>
                  <option value="tween" {% if requested_age == 'tween' %}selected{% endif %}>Tween</option>
                  <option value="teen" {% if requested_age == 'teen' %}selected{% endif %}>Teen</option>
                  <option value="young adult" {% if requested_age == 'young adult' %}selected{% endif %}>Young Adult</option>
                  <option value="adult" {% if requested_age == 'adult' %}selected{% endif %}>Adult</option>
                  </select>
                  <button type="submit" class="btn btn-primary px-4">
                  Apply Filter
                  </button>
               </form>
            </div>
         </div>
      </div>
      <!-- Main Question Card -->
      <div class="container my-5">
         <div class="row justify-content-center">
            <div class="col-md-8 col-lg-6">
               <div class="card border-0 shadow-lg rounded-4 overflow-hidden h-100">
                  <!-- Colorful top accent -->
                  <div class="bg-gradient-primary" style="height: 8px;"></div>
                  <div class="card-body p-5 text-center d-flex flex-column justify-content-between"
                     style="min-height: 420px;">
                     <!-- Age badge -->
                     <div>
                        <span class="badge bg-primary-subtle text-primary fs-5 px-4 py-2 mb-4 rounded-pill">
                        {{ a | capitalize }}
                        </span>
                     </div>
                     <!-- Question area -->
                     <div class="flex-grow-1 d-flex align-items-center justify-content-center">
                        <h2 class="card-title fw-bold text-dark mb-0" style="line-height: 1.35; max-width: 90%;">
                           {{ q }}
                        </h2>
                     </div>
                     <!-- Bottom section -->
                     <div>
                        <div class="d-flex justify-content-center gap-3 flex-wrap mb-4">
                           <span class="badge bg-success-subtle text-success px-3 py-2">Everyone answers!</span>
                           <span class="badge bg-warning-subtle text-warning px-3 py-2">No wrong answers!</span>
                        </div>
                        <div class="d-grid gap-3 d-sm-flex justify-content-sm-center mt-4">
                           <a href="?{% if requested_age and requested_age != 'all' %}age={{ requested_age }}{% endif %}"
                              class="btn btn-outline-secondary btn-lg px-5">
                           Next Question
                           </a>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <!-- Bootstrap 5.3 JS bundle -->
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
         integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
         crossorigin="anonymous"></script>
   </body>
</html>
